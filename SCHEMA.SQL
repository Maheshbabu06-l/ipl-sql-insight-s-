-- =========================================================
--  SCHEMA: IPL SQL ANALYSIS PROJECT
--  AUTHOR: RK MAHESH BABU
--  DESCRIPTION: DATABASE SCHEMA FOR IPL MATCHES_DATA AND DELIVERIES_DATA
-- =========================================================

-- CREATE DATABASE
CREATE DATABASE IF NOT EXISTS IPL_DATA;
USE IPL_DATA;

-- =========================================================
-- TABLE: MATCHES_DATA
-- =========================================================
CREATE TABLE IF NOT EXISTS MATCHES_DATA (
    MATCH_ID INT PRIMARY KEY,
    SEASON YEAR,
    CITY VARCHAR(200),
    DATE DATE,
    MATCH_TYPE VARCHAR(200),
    PLAYER_OF_THE_MATCH VARCHAR(200),
    VENUE VARCHAR(200),
    TEAM1 VARCHAR(200),
    TEAM2 VARCHAR(200),
    TOSS_WINNER VARCHAR(200),
    TOSS_DECISION VARCHAR(200),
    WINNER VARCHAR(200),
    RESULT VARCHAR(200),
    RESULT_MARGIN INT,
    TARGET_RUNS INT,
    TARGET_OVERS DOUBLE,
    SUPER_OVER VARCHAR(200),
    METHOD VARCHAR(200),
    UMPIRE1 VARCHAR(200),
    UMPIRE2 VARCHAR(200)
);

-- =========================================================
-- TABLE: DELIVERIES_DATA
-- =========================================================
CREATE TABLE IF NOT EXISTS DELIVERIES_DATA (
    MATCH_ID INT,
    INNINGS INT,
    BATTING_TEAM VARCHAR(100),
    BOWLING_TEAM VARCHAR(100),
    OVERS INT,
    BALL INT,
    BATTER VARCHAR(100),
    BOWLER VARCHAR(100),
    NON_STRIKER VARCHAR(100),
    BATSMAN_RUNS INT,
    EXTRA_RUNS INT,
    TOTAL_RUNS INT,
    EXTRAS_TYPE VARCHAR(200),
    IS_WICKET INT,
    PLAYER_DISMISSED VARCHAR(200),
    DISMISSAL_KIND VARCHAR(200),
    FIELDER VARCHAR(200),
    FOREIGN KEY (MATCH_ID) REFERENCES MATCHES_DATA(MATCH_ID)
);
